{% extends "base.html" %}

{% block content %}
<h1>Crear cuenta</h1>

<form method="post" class="stack-v" style="gap:.75rem; max-width:520px;">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

  {% if invite %}
    <input type="hidden" name="token" value="{{ request.args.get('token','') }}">
  {% endif %}

  <label class="stack-v">
    <span class="th">Usuario</span>
    <input name="username" required minlength="3" maxlength="32" placeholder="tu_usuario">
  </label>

  <label class="stack-v">
    <span class="th">Email</span>
    <input name="email" type="email" value="{{ invite.email if invite and invite.email else '' }}"
           {% if invite and invite.email %}readonly{% endif %}
           placeholder="tucorreo@empresa.com" required>
  </label>

  <label class="stack-v">
    <span class="th">Contraseña</span>
    <input name="password" type="password" required minlength="8" placeholder="••••••••">
  </label>

  <div class="stack-h" style="gap:.5rem;">
    <button class="btn btn-primary">Crear cuenta</button>
    <a class="btn btn-outline" href="{{ url_for('auth.login') }}">Ya tengo cuenta</a>
  </div>

  <p class="muted">
    Tu cuenta quedará <b>pendiente de aprobación</b> por un administrador.
  </p>
</form>
{% endblock %}
