/* ===== Theme variables (dark default) ===== */
:root{
  --bg:#0b0f14;
  --panel:#0f1520;
  --border:#202938;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#33b1ff;
  --gap:12px;
  --gap-lg:16px;
  --radius:12px;
  --btn-h:42px;
  --fw:600;
}

[data-theme='light']{
  --bg:#f8fafc;
  --panel:#ffffff;
  --border:#e5e7eb;
  --text:#0f172a;
  --muted:#6b7280;
  --accent:#0f62fe;
}

html{color-scheme:light dark;}
html,body{height:100%;}
*{box-sizing:border-box;}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  line-height:1.5;
}

a{text-decoration:none;}
.sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;}

header.nav{
  position:sticky;
  top:0;
  z-index:10;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 18px;
  border-bottom:1px solid var(--border);
  background:var(--panel);
  backdrop-filter:blur(6px);
}

header.nav .nav-left{display:flex; align-items:center; gap:20px;}
header.nav .brand{display:inline-flex; align-items:center; gap:10px; font-weight:600; letter-spacing:.3px;}
header.nav .brand .logo-text{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:32px;
  width:32px;
  border-radius:50%;
  background:var(--accent);
  color:#001726;
  font-weight:700;
  font-size:.9rem;
  letter-spacing:.4px;
}
header.nav .brand .brand-name{font-weight:600;}
header.nav .nav-links{display:flex; gap:12px; align-items:center; flex-wrap:wrap;}
header.nav .nav-actions{display:flex; align-items:center; gap:8px;}

.btn,
button,
input[type="submit"]{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  height:var(--btn-h);
  padding:0 14px;
  border-radius:var(--radius);
  font-weight:var(--fw);
  line-height:1;
  text-decoration:none;
  cursor:pointer;
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  transition:filter .2s ease, background .2s ease, border-color .2s ease;
}

.btn:hover,
button:hover,
input[type="submit"]:hover{filter:brightness(1.05);}

.btn-primary{background:var(--accent); color:#001726; border-color:var(--accent);}
.btn-outline{background:transparent; color:var(--text); border-color:var(--border);}
.btn-danger{background:#ef4444; color:#fff; border-color:#ef4444;}
.btn-ghost{background:transparent; color:var(--text); border-color:transparent;}

.btn-group{display:flex; flex-wrap:wrap; gap:var(--gap); align-items:center;}
.btn-group form{display:flex; flex-wrap:wrap; gap:var(--gap); align-items:center;}
.btn-wide{min-width:132px;}
.btn-sm{height:36px; padding:0 12px;}
.btn-block{width:100%;}

input[type="text"],input[type="email"],input[type="date"],select,textarea{
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  border-radius:var(--radius);
  padding:10px 12px;
  height:var(--btn-h);
}

textarea{min-height:var(--btn-h); height:auto;}

.btn svg{width:18px; height:18px;}
.btn span{display:inline-flex; align-items:center;}

/* Badges compactos */
.badge{
  display:inline-block; min-width:18px; padding:2px 6px; margin-left:6px;
  font-size:12px; line-height:1; text-align:center;
  border-radius:999px; border:1px solid var(--border); background:var(--panel); color:var(--text);
}
/* Resalta el total cuando hay evidencias */
.badge--alert{
  border-color:#ef4444;
  background:rgba(239,68,68,.15);
}
/* Ajuste sutil en tema claro */
[data-theme='light'] .badge--alert{
  background:rgba(239,68,68,.10);
}
.badge--pdf{ border-color:#ef4444 }
.badge--img{ border-color:#3b82f6 }
.badge-wrap{ display:inline-flex; align-items:center; gap:4px; margin-left:6px }

.alert{
  display:flex; align-items:center; gap:8px;
  padding:8px 10px; border-radius:12px; margin:8px 0 12px;
  border:1px solid var(--border); background:var(--panel); color:var(--text);
}
.alert b{font-weight:700}
.alert--dev{ border-color:#f59e0b; background:rgba(245,158,11,.12); }
[data-theme='light'] .alert--dev{ background:rgba(245,158,11,.10); }
.alert .btn{margin-left:auto}

.icon{display:block;}

:focus-visible{outline:2px solid rgba(36,160,255,0.9); outline-offset:2px;}
.btn:focus-visible,
button:focus-visible,
input[type="submit"]:focus-visible,
select:focus-visible,
textarea:focus-visible,
input:focus-visible{box-shadow:0 0 0 3px rgba(36,160,255,0.35);}

.toolbar{display:flex; gap:var(--gap); align-items:center; flex-wrap:wrap;}
.inline{display:inline;}
.toolbar form.inline{margin:0;}
.stack-v{display:flex; flex-direction:column; gap:var(--gap);}
.stack-h{display:flex; gap:var(--gap); align-items:center; flex-wrap:wrap;}

/* ===== Compact layout (ya usado por el dashboard) ===== */
.container{max-width:1120px; margin:0 auto; padding:16px;}
.page-title{font-size:22px; margin:6px 0 12px; font-weight:700;}
.section{margin:10px 0 18px;}
.muted{color:var(--muted);}

.cards{display:grid; grid-template-columns:repeat(auto-fill,minmax(190px,1fr)); gap:var(--gap); margin:8px 0 12px;}
.card{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:10px 12px; text-decoration:none; color:inherit; transition:transform .05s ease, border-color .2s ease;}
.card:hover{transform:translateY(-1px); border-color:#334155;}
.card b{display:block; font-size:18px; margin-top:4px;}

.grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:var(--gap);}
.cell{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:10px 12px;}
.cell h3{font-size:16px; margin:0 0 8px; font-weight:600;}

.canvas-wrap{height:220px;}
.canvas-wrap canvas{width:100%!important; height:100%!important;}

img,svg,canvas,video{max-width:100%; height:auto;}

/* Portada: limita la imagen grande (siglo21) */
.hero-img{max-height:220px; width:100%; object-fit:contain; display:block; margin:10px auto;}

/* ===== Theme toggle ===== */
.theme-toggle{position:static; right:auto; bottom:auto; z-index:auto; opacity:1;}
.nav-theme{background:transparent; border:1px solid var(--border); padding:6px 10px; border-radius:10px;}
.nav-theme:hover{filter:brightness(1.06);}

/* Additional UI elements */
.hero h1{font-size:28px; margin-bottom:4px;}
.about{margin-top:28px;}
.external-link{display:inline-block; margin-top:10px; color:var(--accent); font-weight:600;}
.external-link:hover{text-decoration:underline;}

.footer{margin:28px auto; text-align:center; color:var(--muted);}

.auth-wrap{
  max-width:640px;
  margin:48px auto;
  padding:24px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:12px;
}

.auth-wrap h1{margin:0 0 16px; font-size:24px;}

/* Grid de “tabla” utilizada en Admin/Usuarios */
.table-grid{display:grid; gap:var(--gap); align-items:center;}
.table-grid.header-6{grid-template-columns:1.4fr .8fr .6fr 1fr 1fr 1.2fr;}
.table-grid > .th{font-weight:var(--fw); opacity:.85;}
.table-grid .row{display:contents;}

/* Formularios horizontales (Bitácoras) */
.form-grid{
  display:grid;
  grid-template-columns:220px 220px 180px minmax(280px,1fr) 160px;
  gap:var(--gap);
  align-items:center;
}

@media (max-width: 900px){
  .table-grid.header-6{grid-template-columns:1fr;}
  .form-grid{grid-template-columns:1fr;}
  .btn-wide{width:100%;}
}

.table{width:100%; border-collapse:collapse;}
.table th,.table td{padding:8px 10px; border-bottom:1px solid var(--border);}
.table th{text-align:left; color:var(--muted); font-weight:600;}

header.nav a{padding:6px 8px; border-radius:8px;}
header.nav a.active{background:#111827;}
